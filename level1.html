<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        ul{
            list-style: none;
            width: 200px;
            height: 200px;
        }
        li{
            box-sizing: border-box;
            border: 2px solid black;
            float: left;
            width: 20px;
            height: 20px;
        }
    </style>
</head>
<body>
    <div id="box">
        <ul>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        <script>
        window.onload = function(){
        draw();
        }
        function draw(){
        ul.width =200;
        ul.height =200;
        context.strokeStyle = "red";
        context.lineWidth = 5;
        context.beginPath();
        /*context.strokeRect(0,0,200,200);*/
        //设置画笔颜色，宽度
        context.strokeStyle = "red";
        context.lineWidth = 0.5;
        //使线段连续，圆滑
        context.lineCap = "round";
        context.lineJoin = "round";
        drawDashedLine(context,0,0,200,200);
        drawDashedLine(context,0,200,200,0);
        drawLine(context,0,100,200,100);
        drawLine(context,100,0,100,200);
    }
    
    function getPos(x,y){
        var box = ul.getBoundingClientRect();
        return {x,y};
    };    
    function drawing(e){
        if(isDraw){
            var position = getPos(e.clientX,e.clientY);
            context.strokeStyle = linColor;
            context.lineWidth = linWidth;
            context.save();
            context.beginPath();
            context.moveTo(movePos.x,movePos.y);
            context.lineTo(position.x,position.y);
            context.stroke();
            movePos = position;
            context.restore();
        }
    }
    canvas.onmousedown = function(e){
        isDraw = true;
        movePos = getPos(e.clientX,e.clientY);
        drawing(e);
    }
    //鼠标移动
    ul.onmousemove = function(e){
        drawing(e);
    }
    //鼠标松开
    ul.onmouseup = function(e){
        isDraw = false;
    }
    //鼠标离开
    ul.onmouseout =function(e){
        isDraw = false;
    }
        </script>
        </ul>
    </div>
   <script>
        var box = document.getElementById('box');
        box.style.position="absolute";
        var context = box.getContext("2d");
        var isDraw = false; 
        var movePos;         
        var linWidth = 10;
        var linColor = '#e01ba5';
        window.onload = function(){
            draw();
        }
        function draw(){
            box.width = 200;
            box.height = 200;
            context.strokeStyle = "red";
            context.lineWidth = 10;
            context.beginPath();
            context.strokeRect(0,0,200,200);
            context.lineWidth = 1;
            drawDashedLine(context,0,0,200,200);
            drawDashedLine(context,0,200,200,0);
            drawLine(context,0,100,200,100);
            drawLine(context,100,0,100,200);
        }
    
        function getPos(x,y){
            var box = canvas.getBoundingClientRect();
            return {x: x-box.left,y: y-box.top};
        };
        function drawing(e){
            if(isDraw){
            var position = getPos(e.clientX,e.clientY);
            context.strokeStyle = linColor;
            context.lineWidth = linWidth;
            context.save();
            context.beginPath();
            context.moveTo(movePos.x,movePos.y);
            context.lineTo(position.x,position.y);
            context.stroke();
            movePos = position;
            context.restore();
            }
        }
        box.onmousedown = function(e){
        isDraw = true;
        movePos = getPos(e.clientX,e.clientY);
        drawing(e);
        }
        box.onmousemove = function(e){
        drawing(e);
        }
        box.onmouseup = function(e){
        isDraw = false;
        }
        box.onmouseout =function(e){
        isDraw = false;
        }
   </script>

    

</body>
</html>